{% extends 'cardapio/base.html' %}

{% block content %}
<!-- Bot칚o voltar -->
<div class="">
    <a href="{% url 'cardapio:home' %}" class="">
        <i class=""></i> Voltar ao Card치pio
    </a>
</div>

<!-- T칤tulo da p치gina -->
<div class="">
    <h1 class="">
        <i class=""></i>
        Nossos Ingredientes Frescos
        <i class=""></i>
    </h1>
    <p class="">
        游꺔 Todos os pre칞os s칚o transparentes e calculados automaticamente! 游꺔
    </p>
</div>

<!-- Lista de ingredientes por categoria -->
{% for tipo in tipos_ingredientes %}
<section class="">
    <!-- T칤tulo da categoria -->
    <h2 class="">
        <span class="">{{ tipo.icone }}</span>
        {{ tipo.nome }}
        <span class="">
            {{ tipo.ingrediente_set.count }} ingredientes
        </span>
    </h2>
    
    <!-- Grid de ingredientes -->
    <div class="">
        {% for ingrediente in tipo.ingrediente_set.all %}
        <div class="">
            
            <!-- Cabe칞alho do ingrediente -->
            <div class="">
                <h3 class="">{{ ingrediente.nome }}</h3>
                {% if ingrediente.disponivel %}
                <span class="">
                    <i class=""></i>Dispon칤vel
                </span>
                {% else %}
                <span class="">
                    <i class=""></i>Em Falta
                </span>
                {% endif %}
            </div>
            
            <!-- Card de pre칞o -->
            <div class="">
                <div class="">
                    <p class="">Pre칞o por {{ ingrediente.unidade_medida }}</p>
                    <p class="">
                        R$ {{ ingrediente.preco_por_unidade|floatformat:3 }}
                    </p>
                    <p class="">
                        Exemplo: 100{{ ingrediente.unidade_medida }} = 
                        R$ {{ ingrediente.preco_por_unidade|floatformat:2|add:"00" }}
                    </p>
                </div>
            </div>
            
            <!-- Emoji grande do tipo -->
            <div class="">
                <span class="">{{ tipo.icone }}</span>
            </div>
        </div>
        {% empty %}
        <div class="">
            <p class="">
                <i class=""></i>
                Nenhum ingrediente cadastrado nesta categoria ainda.
            </p>
        </div>
        {% endfor %}
    </div>
</section>
{% empty %}
<div class="">
    <div class="">
        <i class=""></i>
        <p class="">Ops! Ainda n칚o temos ingredientes cadastrados.</p>
        <p class="">V치 no painel administrativo para adicionar alguns!</p>
    </div>
</div>
{% endfor %}

<!-- Informa칞칚o explicativa -->
<div class="">
    <h3 class="">
        <i class=""></i> Como Calculamos os Pre칞os?
    </h3>
    <div class="">
        <div class="">
            <i class=""></i>
            <p><strong>Pre칞o Base</strong><br>Massa, molho, trabalho</p>
        </div>
        <div class="">
            <i class=""></i>
            <p><strong>+ Ingredientes</strong><br>Quantidade 칑 Pre칞o unit치rio</p>
        </div>
        <div class="">
            <i class=""></i>
            <p><strong>= Pre칞o Final</strong><br>Tudo calculado automaticamente!</p>
        </div>
    </div>
</div>
{% endblock %}
